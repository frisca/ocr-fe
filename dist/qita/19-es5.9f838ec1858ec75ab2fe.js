(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{WDIZ:function(e,t){e.exports='<div class="row">\n    <div class="col-sm-12">\n      <app-card [hidHeader]="true">\n        <h5>Company Profile &nbsp;\n            <span class="feather icon-edit" style="font-size:16px;" (click)="edit(profile)" \n            *ngIf="!showForm">\n            </span>\n        </h5>\n        <hr>\n        <div class="row" *ngIf="!showForm">\n            <div class="col-md-6">\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td style="border-top: none;width: 40%;">Name</td>\n                            <td style="border-top: none;font-weight:bold;color:black;width:50%;" \n                            *ngIf="profile.name === \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.name !== \'\'">\n                                {{profile.name}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Number of Employee</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.companySize == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.companySize != \'\'">\n                                {{profile.companySize}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Zip Code</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kodePos == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kodePos != \'\'">\n                                {{profile.kodePos.kodePos}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">District</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kecamatan == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kecamatan != \'\'">\n                                {{profile.kodePos.kecamatan}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Address</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.address == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.address != \'\'">\n                                {{profile.address}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Social Media</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;">\n                                -\n                            </td>\n                            \x3c!-- <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos?.kabupaten != \'\'">\n                                {{profile.kodePos.kabupaten}}\n                            </td> --\x3e\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="col-md-6">\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td style="border-top: none;">Website</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.website == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.website != \'\'">\n                                <a href="">\n                                    {{profile.website}}\n                                </a>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;width: 40%;">Industry</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.industry == 0">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.industry != 0">\n                                {{profile.businessUnit.name}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Village</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kelurahan == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kelurahan != \'\'">\n                                {{profile.kodePos.kelurahan}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Province</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.provinsi == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.provinsi != \'\'">\n                                {{profile.kodePos.provinsi}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Description</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.shortDescription == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.shortDescription != \'\'">\n                                {{profile.shortDescription}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Avatar</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.avatar === \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.avatar !== \'\'">\n                                <img src="{{profile.avatar}}" style="width:100%">\n                            </td>\n                        </tr>\n                        \n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n        <form [formGroup]="sprofileForm" *ngIf="showForm">\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group">\n                        <label for="exampleInputFirstName">Name\n                            <span style="color:red;">*</span>\n                        </label>\n                        <input type="text" class="form-control" id="exampleInputFirstName" \n                        aria-describedby="firstName" placeholder="Enter nama" \n                        [(ngModel)]="profile.name" formControlName="names">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCompanySize">Number of Employee\n                            <span style="color:red;">*</span>\n                        </label>\n                        \x3c!-- <input type="text" class="form-control" id="exampleInputCompanySize" \n                        placeholder="Enter number of employee" formControlName="companySize" \n                        [(ngModel)]="profile.companySize"> --\x3e\n                        <select2 [data]="numberOfEmployees" [cssImport]=true width="100%" \n                            style="width: 100%;"\n                            [value]="numberOfEmployee" (valueChanged)="changedNumberOfEmployees($event)"\n                            [options]="{ placeholder: \'Choose Number of Employee\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputZipCode">Zip Code\n                            <span style="color:red;">*</span>\n                        </label>\n                        <input type="text" class="form-control" id="exampleInputZipCode" \n                        aria-describedby="zipCode"  placeholder="Enter zip code" \n                        formControlName="kodePos" [(ngModel)]="profile.kodePos.kodePos" \n                        (ngModelChange)="onChangeZipCode($event)">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCity">District\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="districts" [cssImport]=true width="100%" \n                            style="width: 100%;" [value]="selectedDistrict"\n                            [options]="{ placeholder: \'Choose District\' }" [disabled]="true">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputProvince">Province\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="provinces" [cssImport]=true width="100%" \n                            style="width: 100%;" [value]="selectedProvince"\n                            [options]="{ placeholder: \'Choose Province\' }" [disabled]="true">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleFormControlAddress">Address\n                            <span style="color:red;">*</span>\n                        </label>\n                        <textarea class="form-control" id="exampleFormControlAddress" rows="3"\n                        formControlName="address" [(ngModel)]="profile.address" ></textarea>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputPhone">Avatar</label>\n                        <input type="file" class="form-control" id="exampleInputAvatar" \n                        (change)="processAvatar($event)" formControlName="avatar">\n                    </div>\n                    <div *ngIf="profile.avatar != \'\' " class="md-form">\n                        <img src="{{profile.avatar}}" alt="thumbnail" class="img-thumbnail"\n                            style="height: 150px; margin-bottom: 15px;">\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <div class="form-group">\n                        <label for="exampleInputWebsite">Website\n                            <span style="color:red;">*</span>\n                        </label>\n                        <input type="text" class="form-control" id="exampleInputWebsite" \n                        placeholder="Enter website" formControlName="website" \n                        [(ngModel)]="profile.website">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputIndustri">Industry\n                            <span style="color:red;">*</span>\n                        </label>\n                        \x3c!-- <input type="text" class="form-control" id="exampleInputIndustri" \n                        aria-describedby="industri"  placeholder="Isi industri" formControlName="industry"\n                        [(ngModel)]="profile.industry"> --\x3e\n                        <select2 [data]="businessUnits" [cssImport]=true width="100%" \n                            style="width: 100%;" (valueChanged)="changedIndustry($event)" \n                            [value]="selectedIndustry"\n                            [options]="{ placeholder: \'Choose Industry\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCity">Villages\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="villages" [cssImport]=true width="100%" \n                            style="width: 100%;" (valueChanged)="changedCity($event)"\n                            [value]="selectedCity"\n                            [options]="{ placeholder: \'Choose Villages\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCity">City\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="cities" [cssImport]=true width="100%" \n                            style="width: 100%;" [value]="selectedVillages"\n                            [options]="{ placeholder: \'Choose City\' }" [disabled]="true">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputSM">Social Media\n                        </label>\n                        <select2 [data]="socialMedias" [cssImport]=true width="100%" \n                            style="width: 100%;"\n                            [options]="{ placeholder: \'Choose Social Media\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleFormControlDescription">Description\n                            <span style="color:red;">*</span>\n                        </label>\n                        <textarea class="form-control" id="exampleFormControlDescription" rows="3"\n                        formControlName="shortDescription" [(ngModel)]="profile.shortDescription" ></textarea>\n                    </div>\n                </div>\n\n                <div class="col-md-12">\n                    <button type="button" class="btn btn-primary" (click)="save()" \n                    [disabled]="sprofileForm.invalid" *ngIf="profile.id == 0">Save</button>\n                    <button type="button" class="btn btn-primary" (click)="editForm()" \n                    [disabled]="sprofileForm.invalid" *ngIf="profile.id != 0">Save</button> &nbsp;&nbsp;\n                    <button type="button" class="btn btn-light" (click)="batal()">Cancel</button>\n                </div>\n            </div>\n        </form>\n      </app-card>\n    </div>\n</div>\n  '},sR18:function(e,t,o){"use strict";o.r(t);var n=o("mrSG"),s=o("CcnG"),i=o("Ip0R"),r=o("ZYCi"),l=o("gIcY"),d=o("K9Ia"),a=o("PSD3"),p=o.n(a),c=o("xjJI"),h=o("T781"),f=o("t/Na"),u=o("26FU"),b=o("xMyE"),m=o("67Y/"),y=o("SvQm"),g=o("6WqS"),v=function(){function e(e,t){this.http=e,this.configService=t,this.dataSource=new u.a(new g.a),this.data=this.dataSource.asObservable(),this.SERVER=this.configService.getSavedServerPath()}return e.prototype.updatedDataSelection=function(e){this.dataSource.next(e)},e.prototype.getUserByID=function(){var e;return e=this.SERVER+"/api/user/company/detail",this.http.post(e,{},{observe:"response"}).pipe(Object(b.a)((function(e){return console.log("raw",e)})))},e.prototype.upload=function(e){var t=this.SERVER+"/api/user/company/upload";return this.http.post(t,e,{observe:"response"}).pipe(Object(m.a)((function(e){return Object.assign({},e)})))},e.prototype.add=function(e){var t=Object.assign({},e);t.userID=+t.userID,t.id=+t.id;var o=this.SERVER+"/api/user/company/";return this.http.post(o,t,{observe:"response"}).pipe(Object(m.a)((function(e){return Object.assign({},e)})))},e.prototype.update=function(e){var t=Object.assign({},e);t.userID=+t.userID,t.id=+t.id;var o=this.SERVER+"/api/user/company/";return this.http.put(o,t,{observe:"response"}).pipe(Object(m.a)((function(e){return Object.assign({},e)})))},e.ctorParameters=function(){return[{type:f.b},{type:y.a}]},e=n.b([Object(s.Injectable)({providedIn:"root"}),n.d("design:paramtypes",[f.b,y.a])],e)}(),w=function(){function e(e,t,o,n,s){this.fb=e,this.companyProfileService=t,this.router=o,this.profileService=n,this.businessService=s,this.action=new d.a,this.cities=[],this.provinces=[],this.villages=[],this.districts=[],this.socialInterests=[],this.socialMedias=[],this.selectedDistrict="",this.selectedCity="",this.selectedVillage="",this.selectedNumberOfEmployee="",this.numberOfEmployee="",this.numberOfEmployees=[{id:"1-6",text:"1-6"},{id:"<250",text:"<250"},{id:"<500",text:"<500"},{id:"<1,000",text:"<1,000"},{id:"1,001 or more",text:"1,001 or more"}],this.businessUnits=[],this.selectedIndustry="",this.businessUnit="",this.sForm()}return e.prototype.sForm=function(){this.sprofileForm=this.fb.group({id:[{value:"",disabled:!0}],names:["",l.g.required],shortDescription:["",l.g.required],address:["",l.g.required],industry:["",l.g.required],companySize:["",l.g.required],avatar:[""],website:["",l.g.required],kodePos:["",l.g.required]})},e.prototype.ngOnInit=function(){this.getUser(),this.selectedIndustry=this.profile.industry,this.showForm=!1},e.prototype.getUser=function(){var e=this;this.companyProfileService.getUserByID().subscribe((function(t){console.log("res.body",t.body),e.successLoadUser(t.body)}))},e.prototype.successLoadUser=function(e){console.log("succesloaduser ",e),e.totalRow<0||(console.log(e),this.profile=e.contents)},e.prototype.edit=function(e){this.profile=e,this.showForm=!0,this.selectedNumberOfEmployee=this.profile.companySize,this.selectedIndustry=this.profile.industry,this.numberOfEmployee=this.selectedNumberOfEmployee,this.numberOfEmployees=this.numberOfEmployees,""!==this.profile.companySize&&this.sprofileForm.get("companySize").setValue(this.profile.companySize),this.getAllBusinessUnit()},e.prototype.getAllBusinessUnit=function(){var e=this;this.businessService.getAllBusinessUnit().subscribe((function(t){console.log("res.body",t.body),e.successLoadUserBusinessUnit(t.body)}))},e.prototype.successLoadUserBusinessUnit=function(e){if(console.log("succesloaduser ",e),!(e.totalRow<0)){console.log(e),this.mBusiness=e.contents,this.businessUnits=[];for(var t=0;t<this.mBusiness.length;t++)this.businessUnits.push({id:this.mBusiness[t].id,text:this.mBusiness[t].name}),""!==this.profile.industry&&this.mBusiness[t].id===this.profile.industry&&(this.selectedIndustry=String(this.profile.industry))}},e.prototype.batal=function(){this.showForm=!1,this.getUser()},e.prototype.processAvatar=function(e){this.avatar=e.target.files[0],console.log("avatar: ",this.avatar)},e.prototype.save=function(){var e=this;this.profile.name=this.sprofileForm.get("names").value,this.profile.shortDescription=this.sprofileForm.get("shortDescription").value,this.profile.address=this.sprofileForm.get("address").value,this.profile.website=this.sprofileForm.get("website").value,this.profile.industry=this.sprofileForm.get("industry").value,this.profile.kodePosID=+this.selectedDistrict,this.profile.companySize=this.selectedNumberOfEmployee,console.log("this profile: ",this.profile),this.companyProfileService.add(this.profile).subscribe((function(t){console.log(t),"00"===t.body.errCode?(null!=e.avatar&&e.avatar&&(e.uploadFileAvatar(t.body.id),e.getUser()),e.showForm=!1,e.getUser(),e.sprofileForm.reset(),p.a.fire("Success","Company profile saved","success"),e.action.next("refresh"),window.location.reload(),e.router.navigate(["/company/profile"]),e.action.next("refresh")):p.a.fire("Failed","Company profile not saved","error")}))},e.prototype.editForm=function(){var e=this;console.log("update ==> ",this.profile),this.profile.companySize=this.selectedNumberOfEmployee,this.profile.industry=String(this.selectedIndustry),this.companyProfileService.update(this.profile).subscribe((function(t){"00"===t.body.errCode?(null!=e.avatar&&e.avatar&&(e.uploadFileAvatar(e.profile.id),e.getUser()),e.showForm=!1,e.getUser(),e.sprofileForm.reset(),p.a.fire("Success","Company profile saved","success"),e.action.next("refresh")):p.a.fire("Failed","Company profile not saved","error")}))},e.prototype.uploadFileAvatar=function(e){var t=this,o=new FormData;o.append("files",this.avatar),o.append("type","avatar"),o.append("id",String(e)),console.log("formData: ",o),this.companyProfileService.upload(o).subscribe((function(e){"00"!==e.body.errCode&&p.a.fire("Failed","Avatar not saved","error"),t.getUser()}))},e.prototype.onChangeZipCode=function(e){var t=this;console.log("val: , ",e);var o=e;""!==o&&this.profileService.searchZipCode(o).subscribe((function(e){t.successLoadUserKodePos(e.body)}))},e.prototype.changedCity=function(e){var t=this;this.selectedDistrict=e.value,this.profileService.searchDistrict(this.selectedDistrict).subscribe((function(e){t.successLoadUserDistrict(e.body)})),this.profile.kodePosID=+this.selectedDistrict},e.prototype.successLoadUserDistrict=function(e){this.pos1=e.data,this.districts=[],this.cities=[],this.provinces=[];for(var t=0;t<this.pos1.length;t++)this.districts.push({id:this.pos1[t].id,text:this.pos1[t].kecamatan}),this.cities.push({id:this.pos1[t].id,text:this.pos1[t].kabupaten}),this.provinces.push({id:this.pos1[t].id,text:this.pos1[t].provinsi})},e.prototype.successLoadUserKodePos=function(e){this.pos1=e.data,this.cities=[],this.villages=[];for(var t=0;t<this.pos1.length;t++)this.villages.push({id:this.pos1[t].id,text:this.pos1[t].kelurahan}),this.cities.push({id:this.pos1[t].id,text:this.pos1[t].kabupaten}),""!==this.profile.kodePos.kelurahan&&this.pos1[t].id===this.profile.kodePosID&&(this.selectedVillage=String(this.profile.kodePosID),this.selectedDistrict=String(this.profile.kodePosID),this.selectedCity=String(this.profile.kodePosID));console.log("POS1: ",this.pos1),console.log("selectedDistrict: ",this.selectedDistrict," villages : ",this.selectedVillage)},e.prototype.changedNumberOfEmployees=function(e){this.selectedNumberOfEmployee=e.value,""!==this.selectedNumberOfEmployee&&this.sprofileForm.get("companySize").setValue(this.selectedNumberOfEmployee)},e.prototype.changedIndustry=function(e){console.log("e: ",!e.value),this.selectedIndustry=e.value,""!==this.selectedIndustry&&this.sprofileForm.get("industry").setValue(this.selectedIndustry),console.log("industry: ",this.selectedIndustry)},e.ctorParameters=function(){return[{type:l.a},{type:v},{type:r.f},{type:h.a},{type:c.a}]},e=n.b([Object(s.Component)({selector:"app-company-profile",template:o("WDIZ"),styles:[o("xKdI")]}),n.d("design:paramtypes",[l.a,v,r.f,h.a,c.a])],e)}(),I=[{path:"",component:w}],k=function(){function e(){}return e=n.b([Object(s.NgModule)({imports:[r.h.forChild(I)],exports:[r.h]})],e)}(),x=o("ebz3"),C=o("4GxJ"),S=o("hr0V"),P=o("i0AA"),D=o("mu2n");o.d(t,"CompanyProfileModule",(function(){return F}));var F=function(){function e(){}return e=n.b([Object(s.NgModule)({declarations:[w],imports:[i.CommonModule,k,x.a,C.c,l.c,C.h,S.Select2Module,P.a,D.a]})],e)}()},xKdI:function(e,t){e.exports=":host /deep/ mdb-select>div>div.single>div.placeholder {\n    font-size: 13px;\n}\n\n:host /deep/ mdb-select>div>div.single>div.value {\n    font-size: 13px;\n}\n\n:host /deep/ mdb-select>div>div.single>div.placeholder {\n    font-size: 13px;\n}\n\n:host /deep/ mdb-select>div>div.single>div.value {\n    font-size: 13px;\n}\n\n:host /deep/ .select2-container--default .select2-selection--single .select2-selection__arrow {\n    height: 34px;\n}\n\n/* :host /deep/ .select2-container {\n    width: 100%;\n} */\n\n:host .select2-container {\n    width: 100%;\n}\n\n:host /deep/ .select2-container--default .select2-selection--single {\n    height: 36px;\n}\n\n:host /deep/ .select2-container--default .select2-selection--single .select2-selection__rendered {\n    line-height: 34px;\n}\n"}}]);