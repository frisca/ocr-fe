(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5gXd":function(e,t){e.exports=""},MXJN:function(e,t,n){"use strict";n.r(t);var o=n("mrSG"),a=n("CcnG"),i=n("Ip0R"),r=n("ZYCi"),s=n("K9Ia"),c=n("mDEU"),l=n("PSD3"),d=n.n(l),u=n("vgbG"),p=n("T781"),h=n("t/Na"),g=n("26FU"),b=n("xMyE"),f=n("67Y/"),v=n("SvQm"),k=function(){function e(e,t){this.http=e,this.configService=t,this.dataSource=new g.a(new u.a),this.data=this.dataSource.asObservable(),this.SERVER=this.configService.getSavedServerPath()}return e.prototype.updatedDataSelection=function(e){this.dataSource.next(e)},e.prototype.getAllSeeker=function(e){var t,n=null,o=null;return Object.keys(e).forEach((function(t){"page"===t&&(n=e[t]),"count"===t&&(o=e[t])})),t=this.SERVER+"/api/trx-user-vacancy/all/seeker/page/"+n+"/count/"+o,this.http.post(t,{},{observe:"response"}).pipe(Object(b.a)((function(e){return console.log("raw",e)})))},e.prototype.deleteCV=function(e){var t=null;Object.keys(e).forEach((function(n){"id"===n&&(t=e[n])}));var n=this.SERVER+"/api/trx-user-vacancy/delete/"+t;return this.http.put(n,{},{observe:"response"}).pipe(Object(f.a)((function(e){return Object.assign({},e)})))},e.ctorParameters=function(){return[{type:h.b},{type:v.a}]},e=o.b([Object(a.Injectable)({providedIn:"root"}),o.d("design:paramtypes",[h.b,v.a])],e)}(),m=function(){function e(e,t,n){this.cvListService=e,this.router=t,this.profileService=n,this.maxTotalpage=1,this.action=new s.a}return e.prototype.ngOnInit=function(){this.curPage=1,this.getAllSeeker(this.curPage)},e.prototype.getAllSeeker=function(e){var t=this;this.cvListService.getAllSeeker({page:e,count:10}).subscribe((function(e){console.log("res.body",e.body),t.successLoadAllSeeker(e.body)}))},e.prototype.successLoadAllSeeker=function(e){console.log("successLoadAllSeeker ",e),e.totalRow<0||(console.log(e),this.seekers=e.contents,this.maxTotalpage=Math.ceil(e.totalRow/c.c),this.totalItems=e.totalRow,this.itemsPerPage=c.c)},e.prototype.loadPage=function(e){this.curPage!==this.previousPage&&(this.previousPage=this.curPage,this.getAllSeeker(this.curPage))},e.prototype.download=function(e,t,n){var o=new u.b;o.id=e,o.typeFile=t,console.log("profile:",o),"cv_bahasa"===t&&(n="cv_bahasa_"+n),"cv_english"===t&&(n="cv_english_"+n),this.profileService.downloadCV(o).subscribe((function(e){if(console.log("data blob ==> ",e),"text/plain"!==e.type){var t=new Blob([e],{type:"application/text/pdf"}),o=document.createElement("a");o.href=URL.createObjectURL(t),o.download=n,document.body.append(o),o.click(),o.remove(),window.addEventListener("focus",(function(e){return URL.revokeObjectURL(o.href)}),{once:!0})}else d.a.fire("File Not Found","Failed Download","error")}))},e.prototype.delete=function(e){var t=this;this.cvListService.deleteCV({id:e}).subscribe((function(e){console.log(e),"00"===e.body.errCode?(d.a.fire("Success","CV has deleted.","success"),t.action.next("refresh"),window.location.reload()):d.a.fire("Error","CV has failed delete.","error")}))},e.ctorParameters=function(){return[{type:k},{type:r.f},{type:p.a}]},e=o.b([Object(a.Component)({selector:"app-cv-list",template:n("lifm"),styles:[n("5gXd")]}),o.d("design:paramtypes",[k,r.f,p.a])],e)}(),y=[{path:"",component:m}],S=function(){function e(){}return e=o.b([Object(a.NgModule)({imports:[r.h.forChild(y)],exports:[r.h]})],e)}(),w=n("ebz3"),P=n("4GxJ");n.d(t,"CvListModule",(function(){return x}));var x=function(){function e(){}return e=o.b([Object(a.NgModule)({declarations:[m],imports:[i.CommonModule,S,w.a,P.f]})],e)}()},lifm:function(e,t){e.exports='<div class="row">\n    \x3c!-- [ basic-table ] start --\x3e\n    <div class="col-md-12">\n      <app-card [hidHeader]="true">\n        <h5>CV List </h5>\n        <hr>\n        <div class="table-responsive" style="margin-top:10px;">\n          <table class="table">\n            <thead>\n            <tr>\n              <th>ID</th>\n              <th>Name</th>\n              <th>CV English</th>\n              <th>CV Bahasa</th>\n              <th>Action</th>\n            </tr>\n            </thead>\n            <tbody *ngFor="let seeker of seekers; let i=index">\n                <tr>\n                <td>{{seeker.id}}</td>\n                <td>{{seeker.firstName}} - {{seeker.lastName}}</td>\n                <td>\n                    <a class="feather icon-download" (click)="download(seeker.id, \'cv_english\', seeker.cvEnglish)"> {{seeker.cvEnglish}}\n                    </a> \n                </td>\n                <td>\n                    <a class="feather icon-download" (click)="download(seeker.id, \'cv_bahasa\', seeker.cvBahasa)"> {{seeker.cvBahasa}}\n                    </a> \n                </td>\n                <td>\n                    <button class="btn btn-danger" (click)="delete(seeker.id)">Delete</button>\n                </td>\n                </tr>\n            </tbody>\n            <tfoot class="grey lighten-5 ">\n                <tr>\n                    <td colspan="12">\n                            Page {{curPage}} Of {{maxTotalpage}}<br>\n                            \x3c!-- <button mdbBtn type="button" color="red" size="sm" outline="true" rounded="true"\n                                (click)="onPreviousPageClick()">\n                                <mdb-icon fas icon="angle-left"></mdb-icon>\n                            </button>\n                            <ul style="display: inline-block" class="pagination pagination-circle pg-red"\n                                *ngFor="let tl of total">\n                                <li class="page-item" *ngIf="tl != curPage">\n                                    <a class="page-link" (click)="onClick(tl)">{{tl}}</a>\n                                </li>\n                                <li class="page-item active" *ngIf="tl == curPage">\n                                    <a class="page-link" (click)="onClick(tl)">{{tl}}</a>\n                                </li>\n                            </ul>\n                            <button mdbBtn type="button" color="red" size="sm" outline="true" rounded="true"\n                                (click)="onNextPageClick()">\n                                <mdb-icon fas icon="angle-right"></mdb-icon>\n                            </button> --\x3e\n                            <ngb-pagination [collectionSize]="totalItems" [(page)]="curPage"  [maxSize]="5" \n                            [rotate]="true" [pageSize]="itemsPerPage" [boundaryLinks]="true" [ellipses]="false" \n                            (pageChange)="loadPage($event)">\n                            </ngb-pagination>\n                    </td>\n                </tr>\n            </tfoot>\n          </table>\n        </div>\n      </app-card>\n    </div>\n</div>'}}]);