(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{WDIZ:function(e,t){e.exports='<div class="row">\n    <div class="col-sm-12">\n      <app-card [hidHeader]="true">\n        <h5>Company Profile &nbsp;\n            <span class="feather icon-edit" style="font-size:16px;" (click)="edit(profile)" \n            *ngIf="!showForm">\n            </span>\n        </h5>\n        <hr>\n        <div class="row" *ngIf="!showForm">\n            <div class="col-md-6">\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td style="border-top: none;width: 40%;">Name</td>\n                            <td style="border-top: none;font-weight:bold;color:black;width:50%;" \n                            *ngIf="profile.name === \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.name !== \'\'">\n                                {{profile.name}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Number of Employee</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.companySize == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.companySize != \'\'">\n                                {{profile.companySize}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Zip Code</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kodePos == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kodePos != \'\'">\n                                {{profile.kodePos.kodePos}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">District</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kecamatan == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kecamatan != \'\'">\n                                {{profile.kodePos.kecamatan}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Address</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.address == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.address != \'\'">\n                                {{profile.address}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Social Media</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;">\n                                -\n                            </td>\n                            \x3c!-- <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos?.kabupaten != \'\'">\n                                {{profile.kodePos.kabupaten}}\n                            </td> --\x3e\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class="col-md-6">\n                <table class="table">\n                    <tbody>\n                        <tr>\n                            <td style="border-top: none;">Website</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.website == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.website != \'\'">\n                                <a href="">\n                                    {{profile.website}}\n                                </a>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;width: 40%;">Industry</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.industry == 0">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.industry != 0">\n                                {{profile.businessUnit.name}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Village</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kelurahan == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.kelurahan != \'\'">\n                                {{profile.kodePos.kelurahan}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Province</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.provinsi == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.kodePos.provinsi != \'\'">\n                                {{profile.kodePos.provinsi}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Description</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.shortDescription == \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.shortDescription != \'\'">\n                                {{profile.shortDescription}}\n                            </td>\n                        </tr>\n                        <tr>\n                            <td style="border-top: none;">Avatar</td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.avatar === \'\'">\n                                -\n                            </td>\n                            <td style="border-top: none;font-weight:bold;\n                            color:black;width:50%;" *ngIf="profile.avatar !== \'\'">\n                                <img src="{{profile.avatar}}" style="width:100%">\n                            </td>\n                        </tr>\n                        \n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n        <form [formGroup]="sprofileForm" *ngIf="showForm">\n            <div class="row">\n                <div class="col-md-6">\n                    <div class="form-group">\n                        <label for="exampleInputFirstName">Name\n                            <span style="color:red;">*</span>\n                        </label>\n                        <input type="text" class="form-control" id="exampleInputFirstName" \n                        aria-describedby="firstName" placeholder="Enter nama" \n                        [(ngModel)]="profile.name" formControlName="names">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCompanySize">Number of Employee\n                            <span style="color:red;">*</span>\n                        </label>\n                        \x3c!-- <input type="text" class="form-control" id="exampleInputCompanySize" \n                        placeholder="Enter number of employee" formControlName="companySize" \n                        [(ngModel)]="profile.companySize"> --\x3e\n                        <select2 [data]="numberOfEmployees" [cssImport]=true width="100%" \n                            style="width: 100%;"\n                            [value]="numberOfEmployee" (valueChanged)="changedNumberOfEmployees($event)"\n                            [options]="{ placeholder: \'Choose Number of Employee\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputZipCode">Zip Code\n                            <span style="color:red;">*</span>\n                        </label>\n                        <input type="text" class="form-control" id="exampleInputZipCode" \n                        aria-describedby="zipCode"  placeholder="Enter zip code" \n                        formControlName="kodePos" [(ngModel)]="profile.kodePos.kodePos" \n                        (ngModelChange)="onChangeZipCode($event)">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCity">District\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="districts" [cssImport]=true width="100%" \n                            style="width: 100%;" [value]="selectedDistrict"\n                            [options]="{ placeholder: \'Choose District\' }" [disabled]="true">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputProvince">Province\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="provinces" [cssImport]=true width="100%" \n                            style="width: 100%;" [value]="selectedProvince"\n                            [options]="{ placeholder: \'Choose Province\' }" [disabled]="true">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleFormControlAddress">Address\n                            <span style="color:red;">*</span>\n                        </label>\n                        <textarea class="form-control" id="exampleFormControlAddress" rows="3"\n                        formControlName="address" [(ngModel)]="profile.address" ></textarea>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputPhone">Avatar</label>\n                        <input type="file" class="form-control" id="exampleInputAvatar" \n                        (change)="processAvatar($event)" formControlName="avatar">\n                    </div>\n                    <div *ngIf="profile.avatar != \'\' " class="md-form">\n                        <img src="{{profile.avatar}}" alt="thumbnail" class="img-thumbnail"\n                            style="height: 150px; margin-bottom: 15px;">\n                    </div>\n                </div>\n                <div class="col-md-6">\n                    <div class="form-group">\n                        <label for="exampleInputWebsite">Website\n                            <span style="color:red;">*</span>\n                        </label>\n                        <input type="text" class="form-control" id="exampleInputWebsite" \n                        placeholder="Enter website" formControlName="website" \n                        [(ngModel)]="profile.website">\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputIndustri">Industry\n                            <span style="color:red;">*</span>\n                        </label>\n                        \x3c!-- <input type="text" class="form-control" id="exampleInputIndustri" \n                        aria-describedby="industri"  placeholder="Isi industri" formControlName="industry"\n                        [(ngModel)]="profile.industry"> --\x3e\n                        <select2 [data]="businessUnits" [cssImport]=true width="100%" \n                            style="width: 100%;" (valueChanged)="changedIndustry($event)" \n                            [value]="selectedIndustry"\n                            [options]="{ placeholder: \'Choose Industry\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCity">Villages\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="villages" [cssImport]=true width="100%" \n                            style="width: 100%;" (valueChanged)="changedCity($event)"\n                            [value]="selectedCity"\n                            [options]="{ placeholder: \'Choose Villages\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputCity">City\n                            <span style="color:red;">*</span>\n                        </label>\n                        <select2 [data]="cities" [cssImport]=true width="100%" \n                            style="width: 100%;" [value]="selectedVillages"\n                            [options]="{ placeholder: \'Choose City\' }" [disabled]="true">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleInputSM">Social Media\n                        </label>\n                        <select2 [data]="socialMedias" [cssImport]=true width="100%" \n                            style="width: 100%;"\n                            [options]="{ placeholder: \'Choose Social Media\' }">\n                        </select2>\n                    </div>\n                    <div class="form-group">\n                        <label for="exampleFormControlDescription">Description\n                            <span style="color:red;">*</span>\n                        </label>\n                        <textarea class="form-control" id="exampleFormControlDescription" rows="3"\n                        formControlName="shortDescription" [(ngModel)]="profile.shortDescription" ></textarea>\n                    </div>\n                </div>\n\n                <div class="col-md-12">\n                    <button type="button" class="btn btn-primary" (click)="save()" \n                    [disabled]="sprofileForm.invalid" *ngIf="profile.id == 0">Save</button>\n                    <button type="button" class="btn btn-primary" (click)="editForm()" \n                    [disabled]="sprofileForm.invalid" *ngIf="profile.id != 0">Save</button> &nbsp;&nbsp;\n                    <button type="button" class="btn btn-light" (click)="batal()">Cancel</button>\n                </div>\n            </div>\n        </form>\n      </app-card>\n    </div>\n</div>\n  '},sR18:function(e,t,s){"use strict";s.r(t);var o=s("mrSG"),n=s("8Y7J"),i=s("SVse"),r=s("iInd"),l=s("s7LF"),d=s("XNiG"),a=s("PSD3"),p=s.n(a),c=s("xjJI"),h=s("T781"),f=s("IheW"),b=s("2Vo4"),u=s("vkgz"),m=s("lJxs"),y=s("SvQm"),g=s("6WqS");let v=class{constructor(e,t){this.http=e,this.configService=t,this.dataSource=new b.a(new g.a),this.data=this.dataSource.asObservable(),this.SERVER=this.configService.getSavedServerPath()}updatedDataSelection(e){this.dataSource.next(e)}getUserByID(){let e=null,t=null;return e=this.SERVER+"/api/user/company/detail",t=this.http.post(e,{},{observe:"response"}).pipe(Object(u.a)(e=>console.log("raw",e))),t}upload(e){const t=this.SERVER+"/api/user/company/upload";return this.http.post(t,e,{observe:"response"}).pipe(Object(m.a)(e=>Object.assign({},e)))}add(e){const t=Object.assign({},e);t.userID=+t.userID,t.id=+t.id;const s=this.SERVER+"/api/user/company/";return this.http.post(s,t,{observe:"response"}).pipe(Object(m.a)(e=>Object.assign({},e)))}update(e){const t=Object.assign({},e);t.userID=+t.userID,t.id=+t.id;const s=this.SERVER+"/api/user/company/";return this.http.put(s,t,{observe:"response"}).pipe(Object(m.a)(e=>Object.assign({},e)))}};v.ctorParameters=()=>[{type:f.b},{type:y.a}],v=o.a([Object(n.Injectable)({providedIn:"root"}),o.b("design:paramtypes",[f.b,y.a])],v);let w=class{constructor(e,t,s,o,n){this.fb=e,this.companyProfileService=t,this.router=s,this.profileService=o,this.businessService=n,this.action=new d.a,this.cities=[],this.provinces=[],this.villages=[],this.districts=[],this.socialInterests=[],this.socialMedias=[],this.selectedDistrict="",this.selectedCity="",this.selectedVillage="",this.selectedNumberOfEmployee="",this.numberOfEmployee="",this.numberOfEmployees=[{id:"1-6",text:"1-6"},{id:"<250",text:"<250"},{id:"<500",text:"<500"},{id:"<1,000",text:"<1,000"},{id:"1,001 or more",text:"1,001 or more"}],this.businessUnits=[],this.selectedIndustry="",this.businessUnit="",this.sForm()}sForm(){this.sprofileForm=this.fb.group({id:[{value:"",disabled:!0}],names:["",l.g.required],shortDescription:["",l.g.required],address:["",l.g.required],industry:["",l.g.required],companySize:["",l.g.required],avatar:[""],website:["",l.g.required],kodePos:["",l.g.required]})}ngOnInit(){this.getUser(),this.selectedIndustry=this.profile.industry,this.showForm=!1}getUser(){this.companyProfileService.getUserByID().subscribe(e=>{console.log("res.body",e.body),this.successLoadUser(e.body)})}successLoadUser(e){console.log("succesloaduser ",e),e.totalRow<0||(console.log(e),this.profile=e.contents)}edit(e){this.profile=e,this.showForm=!0,this.selectedNumberOfEmployee=this.profile.companySize,this.selectedIndustry=this.profile.industry,this.numberOfEmployee=this.selectedNumberOfEmployee,this.numberOfEmployees=this.numberOfEmployees,""!==this.profile.companySize&&this.sprofileForm.get("companySize").setValue(this.profile.companySize),this.getAllBusinessUnit()}getAllBusinessUnit(){this.businessService.getAllBusinessUnit().subscribe(e=>{console.log("res.body",e.body),this.successLoadUserBusinessUnit(e.body)})}successLoadUserBusinessUnit(e){if(console.log("succesloaduser ",e),!(e.totalRow<0)){console.log(e),this.mBusiness=e.contents,this.businessUnits=[];for(let e=0;e<this.mBusiness.length;e++)this.businessUnits.push({id:this.mBusiness[e].id,text:this.mBusiness[e].name}),""!==this.profile.industry&&this.mBusiness[e].id===this.profile.industry&&(this.selectedIndustry=String(this.profile.industry))}}batal(){this.showForm=!1,this.getUser()}processAvatar(e){this.avatar=e.target.files[0],console.log("avatar: ",this.avatar)}save(){this.profile.name=this.sprofileForm.get("names").value,this.profile.shortDescription=this.sprofileForm.get("shortDescription").value,this.profile.address=this.sprofileForm.get("address").value,this.profile.website=this.sprofileForm.get("website").value,this.profile.industry=this.sprofileForm.get("industry").value,this.profile.kodePosID=+this.selectedDistrict,this.profile.companySize=this.selectedNumberOfEmployee,console.log("this profile: ",this.profile),this.companyProfileService.add(this.profile).subscribe(e=>{console.log(e),"00"===e.body.errCode?(null!=this.avatar&&this.avatar&&(this.uploadFileAvatar(e.body.id),this.getUser()),this.showForm=!1,this.getUser(),this.sprofileForm.reset(),p.a.fire("Success","Company profile saved","success"),this.action.next("refresh"),window.location.reload(),this.router.navigate(["/company/profile"]),this.action.next("refresh")):p.a.fire("Failed","Company profile not saved","error")})}editForm(){console.log("update ==> ",this.profile),this.profile.companySize=this.selectedNumberOfEmployee,this.profile.industry=String(this.selectedIndustry),this.companyProfileService.update(this.profile).subscribe(e=>{"00"===e.body.errCode?(null!=this.avatar&&this.avatar&&(this.uploadFileAvatar(this.profile.id),this.getUser()),this.showForm=!1,this.getUser(),this.sprofileForm.reset(),p.a.fire("Success","Company profile saved","success"),this.action.next("refresh")):p.a.fire("Failed","Company profile not saved","error")})}uploadFileAvatar(e){const t=new FormData;t.append("files",this.avatar),t.append("type","avatar"),t.append("id",String(e)),console.log("formData: ",t),this.companyProfileService.upload(t).subscribe(e=>{"00"!==e.body.errCode&&p.a.fire("Failed","Avatar not saved","error"),this.getUser()})}onChangeZipCode(e){console.log("val: , ",e);const t=e;""!==t&&this.profileService.searchZipCode(t).subscribe(e=>{this.successLoadUserKodePos(e.body)})}changedCity(e){this.selectedDistrict=e.value,this.profileService.searchDistrict(this.selectedDistrict).subscribe(e=>{this.successLoadUserDistrict(e.body)}),this.profile.kodePosID=+this.selectedDistrict}successLoadUserDistrict(e){this.pos1=e.data,this.districts=[],this.cities=[],this.provinces=[];for(let t=0;t<this.pos1.length;t++)this.districts.push({id:this.pos1[t].id,text:this.pos1[t].kecamatan}),this.cities.push({id:this.pos1[t].id,text:this.pos1[t].kabupaten}),this.provinces.push({id:this.pos1[t].id,text:this.pos1[t].provinsi})}successLoadUserKodePos(e){this.pos1=e.data,this.cities=[],this.villages=[];for(let t=0;t<this.pos1.length;t++)this.villages.push({id:this.pos1[t].id,text:this.pos1[t].kelurahan}),this.cities.push({id:this.pos1[t].id,text:this.pos1[t].kabupaten}),""!==this.profile.kodePos.kelurahan&&this.pos1[t].id===this.profile.kodePosID&&(this.selectedVillage=String(this.profile.kodePosID),this.selectedDistrict=String(this.profile.kodePosID),this.selectedCity=String(this.profile.kodePosID));console.log("POS1: ",this.pos1),console.log("selectedDistrict: ",this.selectedDistrict," villages : ",this.selectedVillage)}changedNumberOfEmployees(e){this.selectedNumberOfEmployee=e.value,""!==this.selectedNumberOfEmployee&&this.sprofileForm.get("companySize").setValue(this.selectedNumberOfEmployee)}changedIndustry(e){console.log("e: ",!e.value),this.selectedIndustry=e.value,""!==this.selectedIndustry&&this.sprofileForm.get("industry").setValue(this.selectedIndustry),console.log("industry: ",this.selectedIndustry)}};w.ctorParameters=()=>[{type:l.a},{type:v},{type:r.f},{type:h.a},{type:c.a}],w=o.a([Object(n.Component)({selector:"app-company-profile",template:s("WDIZ"),styles:[s("xKdI")]}),o.b("design:paramtypes",[l.a,v,r.f,h.a,c.a])],w);const I=[{path:"",component:w}];let k=class{};k=o.a([Object(n.NgModule)({imports:[r.h.forChild(I)],exports:[r.h]})],k);var x=s("ebz3"),S=s("G0yt"),C=s("hr0V"),P=s("Ezqk"),D=s("s7Le");s.d(t,"CompanyProfileModule",(function(){return F}));let F=class{};F=o.a([Object(n.NgModule)({declarations:[w],imports:[i.CommonModule,k,x.a,S.c,l.c,S.h,C.Select2Module,P.a,D.a]})],F)},xKdI:function(e,t){e.exports=":host /deep/ mdb-select>div>div.single>div.placeholder {\n    font-size: 13px;\n}\n\n:host /deep/ mdb-select>div>div.single>div.value {\n    font-size: 13px;\n}\n\n:host /deep/ mdb-select>div>div.single>div.placeholder {\n    font-size: 13px;\n}\n\n:host /deep/ mdb-select>div>div.single>div.value {\n    font-size: 13px;\n}\n\n:host /deep/ .select2-container--default .select2-selection--single .select2-selection__arrow {\n    height: 34px;\n}\n\n/* :host /deep/ .select2-container {\n    width: 100%;\n} */\n\n:host .select2-container {\n    width: 100%;\n}\n\n:host /deep/ .select2-container--default .select2-selection--single {\n    height: 36px;\n}\n\n:host /deep/ .select2-container--default .select2-selection--single .select2-selection__rendered {\n    line-height: 34px;\n}\n"}}]);